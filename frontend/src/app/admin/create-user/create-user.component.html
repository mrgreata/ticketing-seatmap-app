<div class="register-container">

  <div class="register-title">
    Benutzer anlegen
  </div>

  <div class="register-box">

    <form [formGroup]="createUserForm" (ngSubmit)="onSubmit()">

      <!-- Name -->
      <div class="row mb-3">
        <div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="Vorname"
            formControlName="firstName">

          @if (createUserForm.controls.firstName.touched && createUserForm.controls.firstName.errors) {
            <small class="text-danger">
              Vorname ist erforderlich.
            </small>
          }
        </div>

        <div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="Nachname"
            formControlName="lastName">

          @if (createUserForm.controls.lastName.touched && createUserForm.controls.lastName.errors) {
            <small class="text-danger">
              Nachname ist erforderlich.
            </small>
          }
        </div>
      </div>

      <!-- E-Mail -->
      <div class="form-group mb-3">
        <input
          type="email"
          class="form-control"
          placeholder="E-Mail"
          formControlName="email">

        @if (createUserForm.controls.email.touched && createUserForm.controls.email.errors) {
          <small class="text-danger">
            @if (createUserForm.controls.email.errors.required) {
              E-Mail ist erforderlich.
            }
            @if (createUserForm.controls.email.errors.email) {
              Ungültige E-Mail-Adresse.
            }
          </small>
        }
      </div>

      <!-- Password -->
      <div class="form-group mb-3">
        <input
          type="password"
          class="form-control"
          placeholder="Passwort"
          formControlName="password">

        @if (createUserForm.controls.password.touched && createUserForm.controls.password.errors) {
          <small class="text-danger">
            @if (createUserForm.controls.password.errors.required) {
              Passwort ist erforderlich.
            }
            @if (createUserForm.controls.password.errors.minlength) {
              Passwort muss mindestens 8 Zeichen lang sein.
            }
          </small>
        }
      </div>

      <!-- Role -->
      <div class="form-group mb-4">
        <select class="form-select" formControlName="userRole">
          <option [ngValue]="null" disabled>Rolle auswählen</option>
          <option value="ROLE_USER">Benutzer</option>
          <option value="ROLE_ADMIN">Administrator</option>
        </select>

        @if (createUserForm.controls.userRole.touched && createUserForm.controls.userRole.errors) {
          <small class="text-danger">
            Rolle ist erforderlich.
          </small>
        }
      </div>

      <!-- Submit -->
      <button
        type="submit"
        class="btn btn-dark w-100 btn-lg"
        [disabled]="createUserForm.invalid">
        BENUTZER ANLEGEN
      </button>

    </form>

  </div>

</div>
